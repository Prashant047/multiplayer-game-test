{"version":3,"sources":["webpack:///webpack/bootstrap f6c2679e353b18a0f99f","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/debug/src/browser.js","webpack:///./node_modules/component-emitter/index.js","webpack:///./node_modules/engine.io-parser/lib/browser.js","webpack:///./node_modules/parseqs/index.js","webpack:///./node_modules/component-inherit/index.js","webpack:///./src/gameSettings.js","webpack:///./node_modules/socket.io-parser/index.js","webpack:///./node_modules/engine.io-client/lib/xmlhttprequest.js","webpack:///./node_modules/engine.io-client/lib/transport.js","webpack:///./src/socket.js","webpack:///./node_modules/parseuri/index.js","webpack:///./node_modules/has-binary2/index.js","webpack:///./node_modules/socket.io-parser/is-buffer.js","webpack:///./node_modules/socket.io-client/lib/manager.js","webpack:///./node_modules/engine.io-client/lib/transports/index.js","webpack:///./node_modules/engine.io-client/lib/transports/polling.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/yeast/index.js","webpack:///./node_modules/indexof/index.js","webpack:///./node_modules/socket.io-client/lib/socket.js","webpack:///./node_modules/socket.io-client/lib/on.js","webpack:///./node_modules/component-bind/index.js","webpack:///./src/main.js","webpack:///./src/vehicle.js","webpack:///./src/cannon.js","webpack:///./node_modules/socket.io-client/lib/index.js","webpack:///./node_modules/socket.io-client/lib/url.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/debug/src/debug.js","webpack:///./node_modules/ms/index.js","webpack:///./node_modules/has-binary2/node_modules/isarray/index.js","webpack:///./node_modules/socket.io-parser/binary.js","webpack:///./node_modules/socket.io-parser/node_modules/isarray/index.js","webpack:///./node_modules/engine.io-client/lib/index.js","webpack:///./node_modules/engine.io-client/lib/socket.js","webpack:///./node_modules/has-cors/index.js","webpack:///./node_modules/engine.io-client/lib/transports/polling-xhr.js","webpack:///./node_modules/engine.io-parser/lib/keys.js","webpack:///./node_modules/arraybuffer.slice/index.js","webpack:///./node_modules/after/index.js","webpack:///./node_modules/engine.io-parser/lib/utf8.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js","webpack:///./node_modules/blob/index.js","webpack:///./node_modules/engine.io-client/lib/transports/polling-jsonp.js","webpack:///./node_modules/engine.io-client/lib/transports/websocket.js","webpack:///ws (ignored)","webpack:///./node_modules/to-array/index.js","webpack:///./node_modules/backo2/index.js"],"names":["g","Function","eval","e","window","module","exports","require","log","formatArgs","save","load","useColors","storage","chrome","local","localstorage","colors","process","type","document","documentElement","style","WebkitAppearance","console","firebug","exception","table","navigator","userAgent","toLowerCase","match","parseInt","RegExp","$1","formatters","j","v","JSON","stringify","err","message","args","namespace","humanize","diff","c","color","splice","index","lastC","replace","prototype","apply","call","arguments","namespaces","removeItem","debug","r","env","DEBUG","enable","localStorage","Emitter","obj","mixin","key","on","addEventListener","event","fn","_callbacks","push","once","off","removeListener","removeAllListeners","removeEventListener","length","callbacks","cb","i","emit","slice","len","listeners","hasListeners","keys","hasBinary","sliceBuffer","after","utf8","base64encoder","global","ArrayBuffer","isAndroid","test","isPhantomJS","dontSendBlobs","protocol","packets","open","close","ping","pong","upgrade","noop","packetslist","data","Blob","encodePacket","packet","supportsBinary","utf8encode","callback","undefined","buffer","encodeArrayBuffer","encodeBlob","base64","encodeBase64Object","encoded","encode","String","strict","encodeBase64Packet","contentArray","Uint8Array","resultBuffer","byteLength","encodeBlobAsArrayBuffer","fr","FileReader","onload","result","readAsArrayBuffer","blob","b64","split","readAsDataURL","b64data","fromCharCode","typed","basic","Array","btoa","decodePacket","binaryType","utf8decode","charAt","decodeBase64Packet","substr","tryDecode","Number","substring","asArray","rest","decode","msg","encodePayload","isBinary","encodePayloadAsBlob","encodePayloadAsArrayBuffer","setLengthHeader","encodeOne","doneCallback","map","results","join","ary","each","done","next","eachWithIndex","el","error","decodePayload","decodePayloadAsBinary","n","l","chr","ret","encodedPackets","totalLength","reduce","acc","p","toString","resultArray","bufferIndex","forEach","isString","ab","view","charCodeAt","lenStr","binaryIdentifier","size","lengthAry","bufferTail","buffers","tailArray","msgLength","total","str","hasOwnProperty","encodeURIComponent","qs","qry","pairs","pair","decodeURIComponent","a","b","constructor","gameBoard","getElementById","gameBoardDimentions","height","width","backgroundColor","ctx","getContext","hasBin","binary","isBuf","types","CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK","Encoder","Decoder","encodeAsBinary","encoding","encodeAsString","attachments","nsp","id","writeEncoding","bloblessData","deconstruction","deconstructPacket","pack","unshift","removeBlobs","reconstructor","add","decodeString","BinaryReconstructor","reconPack","Error","takeBinaryData","buf","tryParse","parse","destroy","finishedReconstruction","binData","reconstructPacket","hasCORS","opts","xdomain","xscheme","enablesXDR","XMLHttpRequest","XDomainRequest","concat","parser","Transport","path","hostname","port","secure","query","timestampParam","timestampRequests","readyState","agent","socket","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","forceNode","extraHeaders","localAddress","onError","desc","description","doOpen","doClose","onClose","send","write","onOpen","writable","onData","onPacket","re","parts","parseuri","src","indexOf","m","exec","uri","source","host","authority","ipv6uri","isArray","Object","withNativeBlob","withNativeFile","File","Buffer","isBuffer","toJSON","eio","Socket","bind","Backoff","has","Manager","nsps","subs","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","min","max","jitter","timeout","connecting","lastPing","packetBuffer","_parser","encoder","decoder","autoConnect","emitAll","updateSocketIds","generateId","engine","_reconnection","_reconnectionAttempts","_reconnectionDelay","setMin","_randomizationFactor","setJitter","_reconnectionDelayMax","setMax","_timeout","maybeReconnectOnOpen","reconnecting","attempts","reconnect","connect","self","skipReconnect","openSub","onopen","errorSub","cleanup","timer","setTimeout","clearTimeout","onping","Date","onpong","ondata","ondecoded","onerror","onConnecting","options","processPacketQueue","shift","subsLength","sub","disconnect","reset","onclose","reason","delay","duration","onreconnect","attempt","XHR","JSONP","websocket","polling","xhr","xd","xs","jsonp","location","isSSL","forceJSONP","parseqs","inherit","yeast","Polling","hasXHR2","responseType","forceBase64","name","poll","pause","onPause","doPoll","callbackfn","doWrite","schema","sid","ipv6","alphabet","seed","prev","num","Math","floor","decoded","now","arr","toArray","events","connect_error","connect_timeout","reconnect_attempt","reconnect_failed","reconnect_error","io","json","ids","acks","receiveBuffer","sendBuffer","connected","disconnected","subEvents","ev","compress","flags","pop","onpacket","onconnect","onevent","onack","ondisconnect","ack","sent","emitBuffered","vehicles","myVehicle","newVehicle","position","angle","activateListener","oldVehicles","vehicle","isRotating","turningLeft","turningRight","isMoving","movingBackwards","movingForwards","cannon","fireBullet","gameLoop","clearRect","update","draw","requestAnimationFrame","Vehicle","x","y","noseLength","angularVelocity","speed","velocity","cos","sin","preventDefault","keyCode","bulletVelocity","bulletSpeed","updateCannonPosition","updateCannonAngle","beginPath","moveTo","lineTo","PI","closePath","fillStyle","fill","Bullet","radius","arc","Cannon","bullets","bullet","url","lookup","cache","managers","parsed","sameNamespace","newConnection","forceNew","multiplex","loc","href","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","run","nextTick","Item","array","title","browser","argv","version","versions","addListener","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","createDebug","coerce","disable","enabled","names","skips","prevTime","selectColor","hash","abs","curr","ms","format","formatter","val","logFn","init","stack","s","h","d","isNaN","long","fmtLong","fmtShort","parseFloat","round","plural","ceil","packetData","_deconstructPacket","placeholder","_placeholder","newData","_reconstructPacket","_removeBlobs","curKey","containingObject","pendingBlobs","fileReader","transports","transportOptions","writeBuffer","prevBufferLen","policyPort","rememberUpgrade","onlyBinaryUpgrades","perMessageDeflate","threshold","freeGlobal","upgrades","pingInterval","pingTimeout","pingIntervalTimer","pingTimeoutTimer","priorWebsocketSuccess","createTransport","clone","EIO","transport","requestTimeout","protocols","o","setTransport","onDrain","probe","failed","onTransportOpen","upgradeLosesBinary","upgrading","flush","freezeTransport","onTransportClose","onupgrade","to","onHandshake","setPing","code","filterUpgrades","onHeartbeat","sendPacket","waitForUpgrade","cleanupAndClose","filteredUpgrades","Request","empty","request","req","method","sendXhr","pollXhr","async","create","setDisableHeaderCheck","setRequestHeader","withCredentials","hasXDR","onLoad","responseText","onreadystatechange","contentType","getResponseHeader","status","requestsCount","requests","onSuccess","fromError","abort","response","attachEvent","unloadHandler","arraybuffer","start","end","bytes","abv","ii","count","err_cb","bail","proxy","root","freeExports","freeModule","stringFromCharCode","ucs2decode","string","output","counter","value","extra","ucs2encode","checkScalarValue","codePoint","toUpperCase","createByte","encodeCodePoint","symbol","codePoints","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","tmp","define","nodeType","object","webpackPolyfill","deprecate","paths","children","defineProperty","enumerable","get","chars","bufferLength","encoded1","encoded2","encoded3","encoded4","BlobBuilder","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","blobSupportsArrayBufferView","blobBuilderSupported","append","getBlob","mapArrayBufferViews","chunk","copy","set","byteOffset","BlobBuilderConstructor","bb","BlobConstructor","JSONPPolling","rNewline","rEscapedNewline","___eio","script","parentNode","removeChild","form","iframe","createElement","insertAt","getElementsByTagName","insertBefore","head","body","appendChild","isUAgecko","area","iframeId","className","top","left","target","setAttribute","action","complete","initIframe","html","submit","BrowserWebSocket","WebSocket","MozWebSocket","NodeWebSocket","WS","usingBrowserWebSocket","check","headers","ws","supports","addEventListeners","onmessage","list","factor","pow","rand","random","deviation"],"mappings":"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","file":"build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f6c2679e353b18a0f99f","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/debug/src/browser.js","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/component-emitter/index.js","/**\n * Module dependencies.\n */\n\nvar keys = require('./keys');\nvar hasBinary = require('has-binary2');\nvar sliceBuffer = require('arraybuffer.slice');\nvar after = require('after');\nvar utf8 = require('./utf8');\n\nvar base64encoder;\nif (global && global.ArrayBuffer) {\n  base64encoder = require('base64-arraybuffer');\n}\n\n/**\n * Check if we are running an android browser. That requires us to use\n * ArrayBuffer with polling transports...\n *\n * http://ghinda.net/jpeg-blob-ajax-android/\n */\n\nvar isAndroid = typeof navigator !== 'undefined' && /Android/i.test(navigator.userAgent);\n\n/**\n * Check if we are running in PhantomJS.\n * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n * https://github.com/ariya/phantomjs/issues/11395\n * @type boolean\n */\nvar isPhantomJS = typeof navigator !== 'undefined' && /PhantomJS/i.test(navigator.userAgent);\n\n/**\n * When true, avoids using Blobs to encode payloads.\n * @type boolean\n */\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n/**\n * Current protocol version.\n */\n\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Create a blob api even for blob builder when vendor prefixes exist\n */\n\nvar Blob = require('blob');\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if (typeof utf8encode === 'function') {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (global.ArrayBuffer && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (Blob && data instanceof global.Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  // might be an object with { base64: true, data: dataAsBase64String }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data), { strict: false }) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  // packet data is an object { base64: true, data: dataAsBase64String }\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n/**\n * Encode packet helpers for binary types\n */\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    packet.data = fr.result;\n    exports.encodePacket(packet, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (Blob && packet.data instanceof global.Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    // iPhone Safari doesn't let you apply with typed arrays\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += global.btoa(b64data);\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Changes format to Blob if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  if (data === undefined) {\n    return err;\n  }\n  // String data\n  if (typeof data === 'string') {\n    if (data.charAt(0) === 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      data = tryDecode(data);\n      if (data === false) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\nfunction tryDecode(data) {\n  try {\n    data = utf8.decode(data, { strict: false });\n  } catch (e) {\n    return false;\n  }\n  return data;\n}\n\n/**\n * Decodes a packet encoded in a base64 string\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!base64encoder) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, false, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data !== 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data === '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = '', n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (chr !== ':') {\n      length += chr;\n      continue;\n    }\n\n    if (length === '' || (length != (n = Number(length)))) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    msg = data.substr(i + 1, n);\n\n    if (length != msg.length) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    if (msg.length) {\n      packet = exports.decodePacket(msg, binaryType, false);\n\n      if (err.type === packet.type && err.data === packet.data) {\n        // parser error in individual packet - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      var ret = callback(packet, i + n, l);\n      if (false === ret) return;\n    }\n\n    // advance cursor\n    i += n;\n    length = '';\n  }\n\n  if (length !== '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {ArrayBuffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { // not true binary\n        resultArray[bufferIndex++] = 0;\n      } else { // true binary\n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n/**\n * Encode as Blob\n */\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n *\n * @param {ArrayBuffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] === 255) break;\n\n      // 310 = char length of Number.MAX_VALUE\n      if (msgLength.length > 310) {\n        return callback(err, 0, 1);\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        // iPhone Safari doesn't let you apply to typed arrays\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/engine.io-parser/lib/browser.js","/**\r\n * Compiles a querystring\r\n * Returns string representation of the object\r\n *\r\n * @param {Object}\r\n * @api private\r\n */\r\n\r\nexports.encode = function (obj) {\r\n  var str = '';\r\n\r\n  for (var i in obj) {\r\n    if (obj.hasOwnProperty(i)) {\r\n      if (str.length) str += '&';\r\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\r\n    }\r\n  }\r\n\r\n  return str;\r\n};\r\n\r\n/**\r\n * Parses a simple querystring into an object\r\n *\r\n * @param {String} qs\r\n * @api private\r\n */\r\n\r\nexports.decode = function(qs){\r\n  var qry = {};\r\n  var pairs = qs.split('&');\r\n  for (var i = 0, l = pairs.length; i < l; i++) {\r\n    var pair = pairs[i].split('=');\r\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\r\n  }\r\n  return qry;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/parseqs/index.js","\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/component-inherit/index.js","const gameBoard = document.getElementById('can');\nconst gameBoardDimentions = {\n    height: 600,\n    width: 800,\n    backgroundColor: \"#292F36\"\n};\n\n// Setting the game board ---------------\ngameBoard.height = gameBoardDimentions.height;\ngameBoard.width = gameBoardDimentions.width;\ngameBoard.style.backgroundColor = gameBoardDimentions.backgroundColor;\n// --------------------------------------\n\nconst ctx = gameBoard.getContext('2d'); // game rendering context;\n\nexport {ctx, gameBoardDimentions};\n\n\n// WEBPACK FOOTER //\n// ./src/gameSettings.js","\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar hasBin = require('has-binary2');\nvar binary = require('./binary');\nvar isBuf = require('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'ACK',\n  'ERROR',\n  'BINARY_EVENT',\n  'BINARY_ACK'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  if ((obj.type === exports.EVENT || obj.type === exports.ACK) && hasBin(obj.data)) {\n    obj.type = obj.type === exports.EVENT ? exports.BINARY_EVENT : exports.BINARY_ACK;\n  }\n\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    encodeAsBinary(obj, callback);\n  }\n  else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n\n  // first is type\n  var str = '' + obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    str += obj.attachments + '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' !== obj.nsp) {\n    str += obj.nsp + ',';\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    str += JSON.stringify(obj.data);\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an ecoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if (typeof obj === 'string') {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT === packet.type || exports.BINARY_ACK === packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  }\n  else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  }\n  else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var i = 0;\n  // look up type\n  var p = {\n    type: Number(str.charAt(0))\n  };\n\n  if (null == exports.types[p.type]) return error();\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT === p.type || exports.BINARY_ACK === p.type) {\n    var buf = '';\n    while (str.charAt(++i) !== '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) !== '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' === str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' === c) break;\n      p.nsp += c;\n      if (i === str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i === str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    p = tryParse(p, str.substr(i));\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\nfunction tryParse(p, str) {\n  try {\n    p.data = JSON.parse(str);\n  } catch(e){\n    return error();\n  }\n  return p; \n}\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length === this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error() {\n  return {\n    type: exports.ERROR,\n    data: 'parser error'\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/socket.io-parser/index.js","// browser shim for xmlhttprequest module\n\nvar hasCORS = require('has-cors');\n\nmodule.exports = function (opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' !== typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new global[['Active'].concat('Object').join('X')]('Microsoft.XMLHTTP');\n    } catch (e) { }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/engine.io-client/lib/xmlhttprequest.js","/**\n * Module dependencies.\n */\n\nvar parser = require('engine.io-parser');\nvar Emitter = require('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n  this.forceNode = opts.forceNode;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n  this.localAddress = opts.localAddress;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' === this.readyState || '' === this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function (packets) {\n  if ('open' === this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function (data) {\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/engine.io-client/lib/transport.js","import io from 'socket.io-client';\nconst socket = io('http://192.168.1.16:3001');\n\nexport {socket};\n\n\n// WEBPACK FOOTER //\n// ./src/socket.js","/**\r\n * Parses an URI\r\n *\r\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\r\n * @api private\r\n */\r\n\r\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\r\n\r\nvar parts = [\r\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\r\n];\r\n\r\nmodule.exports = function parseuri(str) {\r\n    var src = str,\r\n        b = str.indexOf('['),\r\n        e = str.indexOf(']');\r\n\r\n    if (b != -1 && e != -1) {\r\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\r\n    }\r\n\r\n    var m = re.exec(str || ''),\r\n        uri = {},\r\n        i = 14;\r\n\r\n    while (i--) {\r\n        uri[parts[i]] = m[i] || '';\r\n    }\r\n\r\n    if (b != -1 && e != -1) {\r\n        uri.source = src;\r\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\r\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\r\n        uri.ipv6uri = true;\r\n    }\r\n\r\n    return uri;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/parseuri/index.js","/* global Blob File */\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof global.Blob === 'function' || toString.call(global.Blob) === '[object BlobConstructor]';\nvar withNativeFile = typeof global.File === 'function' || toString.call(global.File) === '[object FileConstructor]';\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Supports Buffer, ArrayBuffer, Blob and File.\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary (obj) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  if (isArray(obj)) {\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (hasBinary(obj[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  if ((typeof global.Buffer === 'function' && global.Buffer.isBuffer && global.Buffer.isBuffer(obj)) ||\n     (typeof global.ArrayBuffer === 'function' && obj instanceof ArrayBuffer) ||\n     (withNativeBlob && obj instanceof Blob) ||\n     (withNativeFile && obj instanceof File)\n    ) {\n    return true;\n  }\n\n  // see: https://github.com/Automattic/has-binary/pull/4\n  if (obj.toJSON && typeof obj.toJSON === 'function' && arguments.length === 1) {\n    return hasBinary(obj.toJSON(), true);\n  }\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/has-binary2/index.js","\nmodule.exports = isBuf;\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/socket.io-parser/is-buffer.js","\n/**\n * Module dependencies.\n */\n\nvar eio = require('engine.io-client');\nvar Socket = require('./socket');\nvar Emitter = require('component-emitter');\nvar parser = require('socket.io-parser');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:manager');\nvar indexOf = require('indexof');\nvar Backoff = require('backo2');\n\n/**\n * IE6+ hasOwnProperty\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager (uri, opts) {\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' === typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connecting = [];\n  this.lastPing = null;\n  this.encoding = false;\n  this.packetBuffer = [];\n  var _parser = opts.parser || parser;\n  this.encoder = new _parser.Encoder();\n  this.decoder = new _parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function () {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n    }\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function () {\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].id = this.generateId(nsp);\n    }\n  }\n};\n\n/**\n * generate `socket.id` for the given `nsp`\n *\n * @param {String} nsp\n * @return {String}\n * @api private\n */\n\nManager.prototype.generateId = function (nsp) {\n  return (nsp === '/' ? '' : (nsp + '#')) + this.engine.id;\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function (v) {\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function (v) {\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function (v) {\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function (v) {\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function (v) {\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function (v) {\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function () {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function (fn, opts) {\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function () {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function (data) {\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    // set timer\n    var timer = setTimeout(function () {\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function () {\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n};\n\n/**\n * Called upon a ping.\n *\n * @api private\n */\n\nManager.prototype.onping = function () {\n  this.lastPing = new Date();\n  this.emitAll('ping');\n};\n\n/**\n * Called upon a packet.\n *\n * @api private\n */\n\nManager.prototype.onpong = function () {\n  this.emitAll('pong', new Date() - this.lastPing);\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function (data) {\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function (err) {\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function (nsp, opts) {\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp, opts);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connecting', onConnecting);\n    socket.on('connect', function () {\n      socket.id = self.generateId(nsp);\n    });\n\n    if (this.autoConnect) {\n      // manually call here since connecting event is fired before listening\n      onConnecting();\n    }\n  }\n\n  function onConnecting () {\n    if (!~indexOf(self.connecting, socket)) {\n      self.connecting.push(socket);\n    }\n  }\n\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function (socket) {\n  var index = indexOf(this.connecting, socket);\n  if (~index) this.connecting.splice(index, 1);\n  if (this.connecting.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function (packet) {\n  debug('writing packet %j', packet);\n  var self = this;\n  if (packet.query && packet.type === 0) packet.nsp += '?' + packet.query;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function (encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i], packet.options);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function () {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function () {\n  debug('cleanup');\n\n  var subsLength = this.subs.length;\n  for (var i = 0; i < subsLength; i++) {\n    var sub = this.subs.shift();\n    sub.destroy();\n  }\n\n  this.packetBuffer = [];\n  this.encoding = false;\n  this.lastPing = null;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function () {\n  debug('disconnect');\n  this.skipReconnect = true;\n  this.reconnecting = false;\n  if ('opening' === this.readyState) {\n    // `onclose` will not fire because\n    // an open event never happened\n    this.cleanup();\n  }\n  this.backoff.reset();\n  this.readyState = 'closed';\n  if (this.engine) this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function (reason) {\n  debug('onclose');\n\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function () {\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function () {\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function (err) {\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function () {\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/socket.io-client/lib/manager.js","/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar XHR = require('./polling-xhr');\nvar JSONP = require('./polling-jsonp');\nvar websocket = require('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling (opts) {\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (global.location) {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/engine.io-client/lib/transports/index.js","/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parseqs = require('parseqs');\nvar parser = require('engine.io-parser');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function () {\n  var XMLHttpRequest = require('xmlhttprequest-ssl');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function () {\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function (onPause) {\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause () {\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function () {\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function () {\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function () {\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function (data) {\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function (packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' === self.readyState) {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' === packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' !== this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' === this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function () {\n  var self = this;\n\n  function close () {\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' === this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n  var callbackfn = function () {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  parser.encodePayload(packets, this.supportsBinary, function (data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' === schema && Number(this.port) !== 443) ||\n     ('http' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/engine.io-client/lib/transports/polling.js","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = 17\n// module chunks = 0","'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/yeast/index.js","\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/indexof/index.js","\n/**\n * Module dependencies.\n */\n\nvar parser = require('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar toArray = require('to-array');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:socket');\nvar parseqs = require('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  connecting: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1,\n  ping: 1,\n  pong: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket (io, nsp, opts) {\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n  if (opts && opts.query) {\n    this.query = opts.query;\n  }\n  if (this.io.autoConnect) this.open();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function () {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function () {\n  if (this.connected) return this;\n\n  this.subEvents();\n  this.io.open(); // ensure open\n  if ('open' === this.io.readyState) this.onopen();\n  this.emit('connecting');\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function () {\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function (ev) {\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var packet = { type: parser.EVENT, data: args };\n\n  packet.options = {};\n  packet.options.compress = !this.flags || false !== this.flags.compress;\n\n  // event ack callback\n  if ('function' === typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  delete this.flags;\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function (packet) {\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function () {\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' !== this.nsp) {\n    if (this.query) {\n      var query = typeof this.query === 'object' ? parseqs.encode(this.query) : this.query;\n      debug('sending connect packet with query %s', query);\n      this.packet({type: parser.CONNECT, query: query});\n    } else {\n      this.packet({type: parser.CONNECT});\n    }\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function (reason) {\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function (packet) {\n  if (packet.nsp !== this.nsp) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function (packet) {\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function (id) {\n  var self = this;\n  var sent = false;\n  return function () {\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    self.packet({\n      type: parser.ACK,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function (packet) {\n  var ack = this.acks[packet.id];\n  if ('function' === typeof ack) {\n    debug('calling ack %s with %j', packet.id, packet.data);\n    ack.apply(this, packet.data);\n    delete this.acks[packet.id];\n  } else {\n    debug('bad ack %s', packet.id);\n  }\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function () {\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function () {\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function () {\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function () {\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function () {\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n/**\n * Sets the compress flag.\n *\n * @param {Boolean} if `true`, compresses the sending data\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.compress = function (compress) {\n  this.flags = this.flags || {};\n  this.flags.compress = compress;\n  return this;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/socket.io-client/lib/socket.js","\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on (obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function () {\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/socket.io-client/lib/on.js","/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/component-bind/index.js","import {ctx, gameBoardDimentions} from './gameSettings';\nimport {Vehicle} from './vehicle';\nimport {socket} from './socket';\n\nconst vehicles = [];\nlet myVehicle;\n// Handeling socket stuff ------------\nsocket.on('connect',() => {\n    console.log('connected to the server');\n});\n\nsocket.on('init', (data) => {\n\n    if(vehicles.length == 0){\n        let newVehicle = new Vehicle(data.newVehicle.position, \n                                     data.newVehicle.color,\n                                     data.newVehicle.angle, \n                                     data.newVehicle.id\n                                    );\n        console.log(\"initialized myself\");\n        myVehicle = newVehicle;\n        vehicles.push(myVehicle);\n        myVehicle.activateListener();\n        data.oldVehicles.forEach((v,index) => {\n            vehicles.push(new Vehicle(v.position, v.color, v.angle, v.id));\n        });\n    }\n    else{\n        vehicles.push(new Vehicle(data.newVehicle.position,\n                                  data.newVehicle.color,\n                                  data.newVehicle.angle, \n                                  data.newVehicle.id\n                                 )\n                      );\n        console.log('added new player');\n    }\n    console.log(vehicles)\n})\n\n// HANDELING MOVEMENT EVENTS\n// -------------------------------------\n\nsocket.on('turn-left', (data) => {\n    vehicles.forEach((vehicle,index) => {\n        if(vehicle.id == data.id){\n            vehicle.isRotating = true;\n            vehicle.turningLeft = true;\n        }\n    });\n});\n\nsocket.on('turn-right', (data) => {\n    vehicles.forEach((vehicle,index) => {\n        if(vehicle.id == data.id){\n            vehicle.isRotating = true;\n            vehicle.turningRight = true;\n        }\n    });\n});\n\nsocket.on('move-backwards', (data) => {\n    vehicles.forEach((vehicle,index) => {\n        if(vehicle.id == data.id){\n            vehicle.isMoving = true;\n            vehicle.movingBackwards = true;\n        }\n    });\n});\n\nsocket.on('move-forwards', (data) => {\n    vehicles.forEach((vehicle,index) => {\n        if(vehicle.id == data.id){\n            vehicle.isMoving = true;\n            vehicle.movingForwards = true;\n        }\n    });\n});\n\nsocket.on('stop-turning-right', (data) => {\n    vehicles.forEach((vehicle,index) => {\n        if(vehicle.id == data.id){\n            vehicle.isRotating = false;\n            vehicle.turningLeft = false;\n            vehicle.turningRight = false;\n        }\n    });\n});\n\nsocket.on('stop-turning-left', (data) => {\n    vehicles.forEach((vehicle,index) => {\n        if(vehicle.id == data.id){\n            vehicle.isRotating = false;\n            vehicle.turningLeft = false;\n            vehicle.turningRight = false;\n        }\n    });\n});\n\nsocket.on('stop-moving-forwards', (data) => {\n    vehicles.forEach((vehicle,index) => {\n        if(vehicle.id == data.id){\n            vehicle.isMoving = false;\n            vehicle.movingForwards = false;\n            vehicle.movingBackwards = false;\n        }\n    });\n});\n\nsocket.on('stop-moving-backwards', (data) => {\n    vehicles.forEach((vehicle,index) => {\n        if(vehicle.id == data.id){\n            vehicle.isMoving = false;\n            vehicle.movingForwards = false;\n            vehicle.movingBackwards = false;\n        }\n    });\n});\n\nsocket.on('fire-bullets', (data) => {\n    vehicles.forEach((vehicle,index) => {\n        if(vehicle.id == data.id){\n            vehicle.cannon.fireBullet();\n        }\n    });\n})\n\n// -------------------------------------\n\nsocket.on('bye', (data) => {\n    // console.log(data.message);\n    for(let i=0;i<vehicles.length;i++){\n        if(vehicles[i].id == data.id){\n            vehicles.splice(i,1);\n        }\n    }\n});\n// ------------------------------\n\nconst gameLoop = () => {\n    ctx.clearRect(0, 0, gameBoardDimentions.width, gameBoardDimentions.height);\n\n    vehicles.forEach((vehicle, index) => {\n        vehicle.update();\n        vehicle.draw();\n    });\n\n    requestAnimationFrame(gameLoop);\n};\ngameLoop();\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import {ctx} from './gameSettings';\nimport {Cannon} from './cannon';\nimport {socket} from './socket';\n\nclass Vehicle{\n    constructor(position, color, angle, id){\n        this.id = id;\n        this.x = position.x;\n        this.y = position.y;\n        this.color = color\n        this.noseLength = 40;\n        this.angle = angle; // in radians\n        this.angularVelocity = 0.07; \n        this.isRotating = false;\n        this.turningLeft = false;\n        this.turningRight = false;\n        this.speed = 3;\n        this.velocity = {\n            x: this.speed*Math.cos(this.angle),\n            y: this.speed*Math.sin(this.angle)\n        };\n        this.isMoving = false;\n        this.movingForwards = false;\n        this.movingBackwards = false;\n        this.cannon = new Cannon(this.x+this.noseLength*Math.cos(this.angle), \n                                 this.y+this.noseLength*Math.sin(this.angle), this.angle, this.color);\n    }\n\n    activateListener(){\n        /**\n         * up = 38\n         * down = 40\n         * right = 39\n         * left = 37\n         * space = 32\n         */\n\n        // bullet firing event\n        window.addEventListener('keypress', (e) => {\n            // Space\n            e.preventDefault();\n            if(e.keyCode == 32){\n                console.log(\"firing\");\n                this.cannon.fireBullet();\n                socket.emit('firing-bullets',{\n                    id: this.id\n                })\n            }\n        });\n        // -----------------------------\n\n        window.addEventListener('keydown', (e) => {\n            // console.log(e.which);\n            // FOR ROTATION OF THE VEHICLE\n            // Right\n            if(e.keyCode == 39){\n                e.preventDefault();\n                // this.isRotating = true;\n                // this.turningRight = true;\n                socket.emit('turning-right',{\n                    id: this.id,\n                    position: {\n                        x: this.x,\n                        y: this.y\n                    },\n                    angle: this.angle\n                });\n            }\n            // Left\n            if(e.keyCode == 37){\n                e.preventDefault();\n                // this.isRotating = true;\n                // this.turningLeft = true;\n                socket.emit('turning-left',{\n                    id: this.id,\n                    position: {\n                        x: this.x,\n                        y: this.y\n                    },\n                    angle: this.angle\n                });\n            }\n            // ---------------------------\n\n            // FOR MOVEMENT OF THE VEHICLE\n            // Up\n            if(e.keyCode == 38){\n                e.preventDefault();\n                // this.isMoving = true;\n                // this.movingForwards = true;\n                socket.emit('moving-forwards',{\n                    id: this.id,\n                    position: {\n                        x: this.x,\n                        y: this.y\n                    },\n                    angle: this.angle\n                });\n            }\n            // Down\n            if(e.keyCode == 40){\n                e.preventDefault();\n                // this.isMoving = true;\n                // this.movingBackwards = true;\n                socket.emit('moving-backwards',{\n                    id: this.id,\n                    position: {\n                        x: this.x,\n                        y: this.y\n                    },\n                    angle: this.angle\n                });\n            }\n            // -----------------------------\n\n        });\n\n        window.addEventListener('keyup', (e) => {\n            // Right\n            if(e.keyCode == 39){\n                // this.isRotating = false;\n                // this.turningLeft = false;\n                // this.turningRight = false;\n                socket.emit('stopped-turning-right', {\n                    id: this.id,\n                    position: {\n                        x: this.x,\n                        y: this.y\n                    },\n                    angle: this.angle\n                });\n            }\n            // left\n            if(e.keyCode == 37){\n                // this.isRotating = false;\n                // this.turningLeft = false;\n                // this.turningRight = false;\n                socket.emit('stopped-turning-left', {\n                    id: this.id,\n                    position: {\n                        x: this.x,\n                        y: this.y\n                    },\n                    angle: this.angle\n                });\n            }\n            // up\n            if(e.keyCode == 38){\n                // this.isMoving = false;\n                // this.movingForwards = false;\n                // this.movingBackwards = false;\n                socket.emit('stopped-moving-forwards', {\n                    id: this.id,\n                    position: {\n                        x: this.x,\n                        y: this.y\n                    },\n                    angle: this.angle\n                });\n            }\n            // down\n            if(e.keyCode == 40){\n                // this.isMoving = false;\n                // this.movingForwards = false;\n                // this.movingBackwards = false;\n                socket.emit('stopped-moving-backwards', {\n                    id: this.id,\n                    position: {\n                        x: this.x,\n                        y: this.y\n                    },\n                    angle: this.angle\n                });\n            }\n        });\n\n        \n    }\n\n    // UPDATING CANNONS COORDINATES\n    updateCannonAngle(){\n        this.cannon.angle = this.angle;\n        this.cannon.bulletVelocity.x = this.cannon.bulletSpeed*Math.cos(this.cannon.angle);\n        this.cannon.bulletVelocity.y = this.cannon.bulletSpeed*Math.sin(this.cannon.angle);\n        this.updateCannonPosition();\n    }\n\n    updateCannonPosition(){\n        this.cannon.x = this.x+this.noseLength*Math.cos(this.angle)\n        this.cannon.y = this.y+this.noseLength*Math.sin(this.angle)\n    }\n    // ----------------------------\n\n    update(){\n        if(this.isRotating && this.turningLeft){\n            this.angle -= this.angularVelocity;\n            // changing the direction of velocity to the direction of nose\n            this.velocity.x = this.speed*Math.cos(this.angle);\n            this.velocity.y = this.speed*Math.sin(this.angle);\n            this.updateCannonAngle(); \n            \n        }\n        if(this.isRotating && this.turningRight){\n            this.angle += this.angularVelocity;\n            // changing the direction of velocity to the direction of nose\n            this.velocity.x = this.speed*Math.cos(this.angle);\n            this.velocity.y = this.speed*Math.sin(this.angle);\n            this.updateCannonAngle();\n        }\n\n        if(this.isMoving && this.movingForwards){\n            this.x += this.velocity.x;\n            this.y += this.velocity.y;\n            this.updateCannonPosition();\n        }\n        if(this.isMoving && this.movingBackwards){\n            this.x -= this.velocity.x;\n            this.y -= this.velocity.y;\n            this.updateCannonPosition();\n        }\n        this.cannon.update();\n    }\n\n    // Draw the vehicle\n    draw(){\n        ctx.beginPath();\n        ctx.moveTo(this.x+this.noseLength*Math.cos(this.angle), \n                   this.y+this.noseLength*Math.sin(this.angle));\n\n        ctx.lineTo(this.x+this.noseLength*Math.cos(2*Math.PI/3 + this.angle)/3,\n                   this.y+this.noseLength*Math.sin(2*Math.PI/3 + this.angle)/3);\n\n        ctx.lineTo(this.x, this.y);\n\n        ctx.lineTo(this.x+this.noseLength*Math.cos(4*Math.PI/3 + this.angle)/3,\n                   this.y+this.noseLength*Math.sin(4*Math.PI/3 + this.angle)/3);\n\n        ctx.closePath();\n        ctx.fillStyle = this.color;\n        ctx.fill();\n        \n    }\n}\n\nexport {Vehicle};\n\n\n// WEBPACK FOOTER //\n// ./src/vehicle.js","import {ctx, gameBoardDimentions} from './gameSettings';\n\nclass Bullet{\n    constructor(x, y, velocity, color){\n        this.color = color\n        this.x = x;\n        this.y = y;\n        this.radius = 3;\n        this.velocity = {\n            x: velocity.x,\n            y: velocity.y\n        }\n    }\n\n    update(){\n        this.x += this.velocity.x;\n        this.y += this.velocity.y; \n    }\n    \n    draw(){\n        ctx.beginPath();\n        ctx.arc(this.x,this.y,this.radius,0,Math.PI*2);\n        ctx.closePath();\n        ctx.fillStyle = this.color;\n        ctx.fill(); \n    }\n};\n\nclass Cannon{\n    constructor(x, y, angle, color){\n        this.color = color;\n        this.x = x;\n        this.y = y;\n        this.angle = angle;\n        this.bullets = [];\n        this.bulletSpeed = 8;\n        this.bulletVelocity = {\n            x: this.bulletSpeed*Math.cos(this.angle),\n            y: this.bulletSpeed*Math.sin(this.angle)\n        };\n    }\n\n    fireBullet(){\n        let bullet = new Bullet(this.x, this.y, this.bulletVelocity, this.color);\n        this.bullets.push(bullet);\n    }\n\n    update(){\n        this.bullets.forEach((bullet,index) => {\n            bullet.update();\n            bullet.draw();\n        });\n        for(let i=0;i<this.bullets.length;i++){\n            if(this.bullets[i].x-this.bullets[i].radius > gameBoardDimentions.width || this.bullets[i].x+this.bullets[i].radius < 0){\n                this.bullets.splice(i,1);\n                console.log('removed x');\n                continue;\n            }\n            if(this.bullets[i].y-this.bullets[i].radius > gameBoardDimentions.height || this.bullets[i].y+this.bullets[i].radius < 0){\n                this.bullets.splice(i,1);\n                console.log('removed y');\n                continue;\n            }\n        }\n    }\n\n\n}\n\nexport {Cannon}; \n\n\n// WEBPACK FOOTER //\n// ./src/cannon.js","\n/**\n * Module dependencies.\n */\n\nvar url = require('./url');\nvar parser = require('socket.io-parser');\nvar Manager = require('./manager');\nvar debug = require('debug')('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup (uri, opts) {\n  if (typeof uri === 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var path = parsed.path;\n  var sameNamespace = cache[id] && path in cache[id].nsps;\n  var newConnection = opts.forceNew || opts['force new connection'] ||\n                      false === opts.multiplex || sameNamespace;\n\n  var io;\n\n  if (newConnection) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n  if (parsed.query && !opts.query) {\n    opts.query = parsed.query;\n  }\n  return io.socket(parsed.path, opts);\n}\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = require('./manager');\nexports.Socket = require('./socket');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/socket.io-client/lib/index.js","\n/**\n * Module dependencies.\n */\n\nvar parseuri = require('parseuri');\nvar debug = require('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url (uri, loc) {\n  var obj = uri;\n\n  // default to window.location\n  loc = loc || global.location;\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' === typeof uri) {\n    if ('/' === uri.charAt(0)) {\n      if ('/' === uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' !== typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    } else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  // define unique id\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + host + (loc && loc.port === obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/socket.io-client/lib/url.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/process/browser.js","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/debug/src/debug.js","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ms/index.js","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/has-binary2/node_modules/isarray/index.js","/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof global.Blob === 'function' || toString.call(global.Blob) === '[object BlobConstructor]';\nvar withNativeFile = typeof global.File === 'function' || toString.call(global.File) === '[object FileConstructor]';\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet) {\n  var buffers = [];\n  var packetData = packet.data;\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData, buffers);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\nfunction _deconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (isBuf(data)) {\n    var placeholder = { _placeholder: true, num: buffers.length };\n    buffers.push(data);\n    return placeholder;\n  } else if (isArray(data)) {\n    var newData = new Array(data.length);\n    for (var i = 0; i < data.length; i++) {\n      newData[i] = _deconstructPacket(data[i], buffers);\n    }\n    return newData;\n  } else if (typeof data === 'object' && !(data instanceof Date)) {\n    var newData = {};\n    for (var key in data) {\n      newData[key] = _deconstructPacket(data[key], buffers);\n    }\n    return newData;\n  }\n  return data;\n}\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  packet.data = _reconstructPacket(packet.data, buffers);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\nfunction _reconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (data && data._placeholder) {\n    return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n  } else if (isArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      data[i] = _reconstructPacket(data[i], buffers);\n    }\n  } else if (typeof data === 'object') {\n    for (var key in data) {\n      data[key] = _reconstructPacket(data[key], buffers);\n    }\n  }\n\n  return data;\n}\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (typeof obj === 'object' && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/socket.io-parser/binary.js","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/socket.io-parser/node_modules/isarray/index.js","\nmodule.exports = require('./socket');\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = require('engine.io-parser');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/engine.io-client/lib/index.js","/**\n * Module dependencies.\n */\n\nvar transports = require('./transports/index');\nvar Emitter = require('component-emitter');\nvar debug = require('debug')('engine.io-client:socket');\nvar index = require('indexof');\nvar parser = require('engine.io-parser');\nvar parseuri = require('parseuri');\nvar parseqs = require('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket (uri, opts) {\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' === typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.hostname = uri.host;\n    opts.secure = uri.protocol === 'https' || uri.protocol === 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  } else if (opts.host) {\n    opts.hostname = parseuri(opts.host).host;\n  }\n\n  this.secure = null != opts.secure ? opts.secure\n    : (global.location && 'https:' === location.protocol);\n\n  if (opts.hostname && !opts.port) {\n    // if no port is specified manually, use the protocol default\n    opts.port = this.secure ? '443' : '80';\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (global.location ? location.hostname : 'localhost');\n  this.port = opts.port || (global.location && location.port\n      ? location.port\n      : (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' === typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.transportOptions = opts.transportOptions || {};\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.prevBufferLen = 0;\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\n  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\n  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n    this.perMessageDeflate.threshold = 1024;\n  }\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? true : opts.rejectUnauthorized;\n  this.forceNode = !!opts.forceNode;\n\n  // other options for Node.js client\n  var freeGlobal = typeof global === 'object' && global;\n  if (freeGlobal.global === freeGlobal) {\n    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n      this.extraHeaders = opts.extraHeaders;\n    }\n\n    if (opts.localAddress) {\n      this.localAddress = opts.localAddress;\n    }\n  }\n\n  // set on handshake\n  this.id = null;\n  this.upgrades = null;\n  this.pingInterval = null;\n  this.pingTimeout = null;\n\n  // set on heartbeat\n  this.pingIntervalTimer = null;\n  this.pingTimeoutTimer = null;\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = require('./transport');\nSocket.transports = require('./transports/index');\nSocket.parser = require('engine.io-parser');\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // per-transport options\n  var options = this.transportOptions[name] || {};\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    query: query,\n    socket: this,\n    agent: options.agent || this.agent,\n    hostname: options.hostname || this.hostname,\n    port: options.port || this.port,\n    secure: options.secure || this.secure,\n    path: options.path || this.path,\n    forceJSONP: options.forceJSONP || this.forceJSONP,\n    jsonp: options.jsonp || this.jsonp,\n    forceBase64: options.forceBase64 || this.forceBase64,\n    enablesXDR: options.enablesXDR || this.enablesXDR,\n    timestampRequests: options.timestampRequests || this.timestampRequests,\n    timestampParam: options.timestampParam || this.timestampParam,\n    policyPort: options.policyPort || this.policyPort,\n    pfx: options.pfx || this.pfx,\n    key: options.key || this.key,\n    passphrase: options.passphrase || this.passphrase,\n    cert: options.cert || this.cert,\n    ca: options.ca || this.ca,\n    ciphers: options.ciphers || this.ciphers,\n    rejectUnauthorized: options.rejectUnauthorized || this.rejectUnauthorized,\n    perMessageDeflate: options.perMessageDeflate || this.perMessageDeflate,\n    extraHeaders: options.extraHeaders || this.extraHeaders,\n    forceNode: options.forceNode || this.forceNode,\n    localAddress: options.localAddress || this.localAddress,\n    requestTimeout: options.requestTimeout || this.requestTimeout,\n    protocols: options.protocols || void (0)\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') !== -1) {\n    transport = 'websocket';\n  } else if (0 === this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function () {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function (transport) {\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function () {\n    self.onDrain();\n  })\n  .on('packet', function (packet) {\n    self.onPacket(packet);\n  })\n  .on('error', function (e) {\n    self.onError(e);\n  })\n  .on('close', function () {\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 });\n  var failed = false;\n  var self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen () {\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' === msg.type && 'probe' === msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' === transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' === self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport () {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  // Handle any error that happens while probing\n  function onerror (err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose () {\n    onerror('transport closed');\n  }\n\n  // When the socket is closed while we're probing\n  function onclose () {\n    onerror('socket closed');\n  }\n\n  // When the socket is upgraded while we're probing\n  function onupgrade (to) {\n    if (transport && to.name !== transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  // Remove all listeners on the transport and on self\n  function cleanup () {\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' === this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' === this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' === this.readyState || 'open' === this.readyState ||\n      'closing' === this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(JSON.parse(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        this.emit('pong');\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.onError(err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if ('closed' === this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' === self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api private\n*/\n\nSocket.prototype.ping = function () {\n  var self = this;\n  this.sendPacket('ping', function () {\n    self.emit('ping');\n  });\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function () {\n  this.writeBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (0 === this.writeBuffer.length) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' !== this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @param {Object} options.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, options, fn) {\n  this.sendPacket('message', msg, options, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Object} options.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, options, fn) {\n  if ('function' === typeof data) {\n    fn = data;\n    data = undefined;\n  }\n\n  if ('function' === typeof options) {\n    fn = options;\n    options = null;\n  }\n\n  if ('closing' === this.readyState || 'closed' === this.readyState) {\n    return;\n  }\n\n  options = options || {};\n  options.compress = false !== options.compress;\n\n  var packet = {\n    type: type,\n    data: data,\n    options: options\n  };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  if (fn) this.once('flush', fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function () {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  function close () {\n    self.onClose('forced close');\n    debug('socket closing - telling transport to close');\n    self.transport.close();\n  }\n\n  function cleanupAndClose () {\n    self.removeListener('upgrade', cleanupAndClose);\n    self.removeListener('upgradeError', cleanupAndClose);\n    close();\n  }\n\n  function waitForUpgrade () {\n    // wait for upgrade to finish since we can't send packets while pausing a transport\n    self.once('upgrade', cleanupAndClose);\n    self.once('upgradeError', cleanupAndClose);\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' === this.readyState || 'open' === this.readyState || 'closing' === this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n\n    // clean buffers after, so users can still\n    // grab the buffers on `close` event\n    self.writeBuffer = [];\n    self.prevBufferLen = 0;\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i < j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/engine.io-client/lib/socket.js","\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/has-cors/index.js","/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar Polling = require('./polling');\nvar Emitter = require('component-emitter');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling-xhr');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty () {}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR (opts) {\n  Polling.call(this, opts);\n  this.requestTimeout = opts.requestTimeout;\n  this.extraHeaders = opts.extraHeaders;\n\n  if (global.location) {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = opts.hostname !== global.location.hostname ||\n      port !== opts.port;\n    this.xs = opts.secure !== isSSL;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function (opts) {\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  opts.requestTimeout = this.requestTimeout;\n\n  // other options for Node.js client\n  opts.extraHeaders = this.extraHeaders;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function (data, fn) {\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function (err) {\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function () {\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function (data) {\n    self.onData(data);\n  });\n  req.on('error', function (err) {\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request (opts) {\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined !== opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n  this.requestTimeout = opts.requestTimeout;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function () {\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    try {\n      if (this.extraHeaders) {\n        xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n        for (var i in this.extraHeaders) {\n          if (this.extraHeaders.hasOwnProperty(i)) {\n            xhr.setRequestHeader(i, this.extraHeaders[i]);\n          }\n        }\n      }\n    } catch (e) {}\n\n    if ('POST' === this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    try {\n      xhr.setRequestHeader('Accept', '*/*');\n    } catch (e) {}\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n    }\n\n    if (this.requestTimeout) {\n      xhr.timeout = this.requestTimeout;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function () {\n        self.onLoad();\n      };\n      xhr.onerror = function () {\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 2) {\n          var contentType;\n          try {\n            contentType = xhr.getResponseHeader('Content-Type');\n          } catch (e) {}\n          if (contentType === 'application/octet-stream') {\n            xhr.responseType = 'arraybuffer';\n          }\n        }\n        if (4 !== xhr.readyState) return;\n        if (200 === xhr.status || 1223 === xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function () {\n            self.onError(xhr.status);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function () {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (global.document) {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function () {\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function (data) {\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function (err) {\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function (fromError) {\n  if ('undefined' === typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch (e) {}\n  }\n\n  if (global.document) {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function () {\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type');\n    } catch (e) {}\n    if (contentType === 'application/octet-stream') {\n      data = this.xhr.response || this.xhr.responseText;\n    } else {\n      data = this.xhr.responseText;\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function () {\n  return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function () {\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nRequest.requestsCount = 0;\nRequest.requests = {};\n\nif (global.document) {\n  if (global.attachEvent) {\n    global.attachEvent('onunload', unloadHandler);\n  } else if (global.addEventListener) {\n    global.addEventListener('beforeunload', unloadHandler, false);\n  }\n}\n\nfunction unloadHandler () {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/engine.io-client/lib/transports/polling-xhr.js","\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/engine.io-parser/lib/keys.js","/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/arraybuffer.slice/index.js","module.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/after/index.js","/*! https://mths.be/utf8js v2.1.2 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction checkScalarValue(codePoint, strict) {\n\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\tif (strict) {\n\t\t\t\tthrow Error(\n\t\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t\t' is not a scalar value'\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint, strict) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tif (!checkScalarValue(codePoint, strict)) {\n\t\t\t\tcodePoint = 0xFFFD;\n\t\t\t}\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string, opts) {\n\t\topts = opts || {};\n\t\tvar strict = false !== opts.strict;\n\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint, strict);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, its not a continuation byte\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol(strict) {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read first byte\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\treturn checkScalarValue(codePoint, strict) ? codePoint : 0xFFFD;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString, opts) {\n\t\topts = opts || {};\n\t\tvar strict = false !== opts.strict;\n\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol(strict)) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar utf8 = {\n\t\t'version': '2.1.2',\n\t\t'encode': utf8encode,\n\t\t'decode': utf8decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn utf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = utf8;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in utf8) {\n\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.utf8 = utf8;\n\t}\n\n}(this));\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/engine.io-parser/lib/utf8.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(){\n  \"use strict\";\n\n  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n  // Use a lookup table to find the index.\n  var lookup = new Uint8Array(256);\n  for (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n  }\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = lookup[base64.charCodeAt(i)];\n      encoded2 = lookup[base64.charCodeAt(i+1)];\n      encoded3 = lookup[base64.charCodeAt(i+2)];\n      encoded4 = lookup[base64.charCodeAt(i+3)];\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js","/**\n * Create a blob builder even when vendor prefixes exist\n */\n\nvar BlobBuilder = global.BlobBuilder\n  || global.WebKitBlobBuilder\n  || global.MSBlobBuilder\n  || global.MozBlobBuilder;\n\n/**\n * Check if Blob constructor is supported\n */\n\nvar blobSupported = (function() {\n  try {\n    var a = new Blob(['hi']);\n    return a.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if Blob constructor supports ArrayBufferViews\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\n */\n\nvar blobSupportsArrayBufferView = blobSupported && (function() {\n  try {\n    var b = new Blob([new Uint8Array([1,2])]);\n    return b.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if BlobBuilder is supported\n */\n\nvar blobBuilderSupported = BlobBuilder\n  && BlobBuilder.prototype.append\n  && BlobBuilder.prototype.getBlob;\n\n/**\n * Helper function that maps ArrayBufferViews to ArrayBuffers\n * Used by BlobBuilder constructor and old browsers that didn't\n * support it in the Blob constructor.\n */\n\nfunction mapArrayBufferViews(ary) {\n  for (var i = 0; i < ary.length; i++) {\n    var chunk = ary[i];\n    if (chunk.buffer instanceof ArrayBuffer) {\n      var buf = chunk.buffer;\n\n      // if this is a subarray, make a copy so we only\n      // include the subarray region from the underlying buffer\n      if (chunk.byteLength !== buf.byteLength) {\n        var copy = new Uint8Array(chunk.byteLength);\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\n        buf = copy.buffer;\n      }\n\n      ary[i] = buf;\n    }\n  }\n}\n\nfunction BlobBuilderConstructor(ary, options) {\n  options = options || {};\n\n  var bb = new BlobBuilder();\n  mapArrayBufferViews(ary);\n\n  for (var i = 0; i < ary.length; i++) {\n    bb.append(ary[i]);\n  }\n\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n};\n\nfunction BlobConstructor(ary, options) {\n  mapArrayBufferViews(ary);\n  return new Blob(ary, options || {});\n};\n\nmodule.exports = (function() {\n  if (blobSupported) {\n    return blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\n  } else if (blobBuilderSupported) {\n    return BlobBuilderConstructor;\n  } else {\n    return undefined;\n  }\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/blob/index.js","\n/**\n * Module requirements.\n */\n\nvar Polling = require('./polling');\nvar inherit = require('component-inherit');\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    if (!global.___eio) global.___eio = [];\n    callbacks = global.___eio;\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (global.document && global.addEventListener) {\n    global.addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function (e) {\n    self.onError('jsonp poll error', e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  if (insertAt) {\n    insertAt.parentNode.insertBefore(script, insertAt);\n  } else {\n    (document.head || document.body).appendChild(script);\n  }\n  this.script = script;\n\n  var isUAgecko = 'undefined' !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch (e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function () {\n      if (self.iframe.readyState === 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/engine.io-client/lib/transports/polling-jsonp.js","/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parser = require('engine.io-parser');\nvar parseqs = require('parseqs');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:websocket');\nvar BrowserWebSocket = global.WebSocket || global.MozWebSocket;\nvar NodeWebSocket;\nif (typeof window === 'undefined') {\n  try {\n    NodeWebSocket = require('ws');\n  } catch (e) { }\n}\n\n/**\n * Get either the `WebSocket` or `MozWebSocket` globals\n * in the browser or try to resolve WebSocket-compatible\n * interface exposed by `ws` for Node-like environment.\n */\n\nvar WebSocket = BrowserWebSocket;\nif (!WebSocket && typeof window === 'undefined') {\n  WebSocket = NodeWebSocket;\n}\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  this.perMessageDeflate = opts.perMessageDeflate;\n  this.usingBrowserWebSocket = BrowserWebSocket && !opts.forceNode;\n  this.protocols = opts.protocols;\n  if (!this.usingBrowserWebSocket) {\n    WebSocket = NodeWebSocket;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function () {\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var uri = this.uri();\n  var protocols = this.protocols;\n  var opts = {\n    agent: this.agent,\n    perMessageDeflate: this.perMessageDeflate\n  };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  if (this.extraHeaders) {\n    opts.headers = this.extraHeaders;\n  }\n  if (this.localAddress) {\n    opts.localAddress = this.localAddress;\n  }\n\n  try {\n    this.ws = this.usingBrowserWebSocket ? (protocols ? new WebSocket(uri, protocols) : new WebSocket(uri)) : new WebSocket(uri, protocols, opts);\n  } catch (err) {\n    return this.emit('error', err);\n  }\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  if (this.ws.supports && this.ws.supports.binary) {\n    this.supportsBinary = true;\n    this.ws.binaryType = 'nodebuffer';\n  } else {\n    this.ws.binaryType = 'arraybuffer';\n  }\n\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function () {\n  var self = this;\n\n  this.ws.onopen = function () {\n    self.onOpen();\n  };\n  this.ws.onclose = function () {\n    self.onClose();\n  };\n  this.ws.onmessage = function (ev) {\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function (e) {\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  var total = packets.length;\n  for (var i = 0, l = total; i < l; i++) {\n    (function (packet) {\n      parser.encodePacket(packet, self.supportsBinary, function (data) {\n        if (!self.usingBrowserWebSocket) {\n          // always create a new object (GH-437)\n          var opts = {};\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (self.perMessageDeflate) {\n            var len = 'string' === typeof data ? global.Buffer.byteLength(data) : data.length;\n            if (len < self.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        // Sometimes the websocket has already been closed but the browser didn't\n        // have a chance of informing us about it yet, in that case send will\n        // throw an error\n        try {\n          if (self.usingBrowserWebSocket) {\n            // TypeError is thrown when passing the second argument on Safari\n            self.ws.send(data);\n          } else {\n            self.ws.send(data, opts);\n          }\n        } catch (e) {\n          debug('websocket closed before onclose event');\n        }\n\n        --total || done();\n      });\n    })(packets[i]);\n  }\n\n  function done () {\n    self.emit('flush');\n\n    // fake drain\n    // defer to next tick to allow Socket to clear writeBuffer\n    setTimeout(function () {\n      self.writable = true;\n      self.emit('drain');\n    }, 0);\n  }\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function () {\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function () {\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' === schema && Number(this.port) !== 443) ||\n    ('ws' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function () {\n  return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/engine.io-client/lib/transports/websocket.js","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ws (ignored)\n// module id = 47\n// module chunks = 0","module.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/to-array/index.js","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/backo2/index.js"],"sourceRoot":""}